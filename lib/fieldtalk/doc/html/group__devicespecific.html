<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>FieldTalk Modbus Master C++ Library: Device and Vendor Specific Modbus Functions</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<style>
h2 a, h3 a {font-weight:bold; color:black;}
h2 a:hover, h3 a:hover {text-decoration:none;}
</style>
</head><body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Introduction</span></a></li>
      <li><a href="pages.html"><span>Chapters</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Device and Vendor Specific Modbus Functions</h1>  </div>
</div>
<div class="contents">

<p>Some device specific or vendor specific functions and enhancements are supported.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="member-group"></a>
Advantec ADAM 5000/6000 Series Commands</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp08f3930e128359efd63bbf947f189777"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__devicespecific.html#ga2dc723b750f16298e186e23790e6c783">adamSendReceiveAsciiCmd</a> (const char *const commandSz, char *responseSz)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send/Receive ADAM 5000/6000 ASCII command.  <a href="#ga2dc723b750f16298e186e23790e6c783"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Custom Function Codes</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpb19ac7801439666718b34e662d43ca20"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__devicespecific.html#gaea9132747bc347fe286d9f7f66d96ee1">customFunction</a> (int slaveAddr, int functionCode, void *requestData, size_t requestLen, void *responseData, size_t *responseLenPtr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">User Defined Function CodeThis method can be used to implement User Defined Function Codes.  <a href="#gaea9132747bc347fe286d9f7f66d96ee1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Some device specific or vendor specific functions and enhancements are supported. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2dc723b750f16298e186e23790e6c783"></a><!-- doxytag: member="MbusTcpMasterProtocol::adamSendReceiveAsciiCmd" ref="ga2dc723b750f16298e186e23790e6c783" args="(const char *const commandSz, char *responseSz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adamSendReceiveAsciiCmd </td>
          <td>(</td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>commandSz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>responseSz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send/Receive ADAM 5000/6000 ASCII command. </p>
<p>Sends an ADAM 5000/6000 ASCII command to the device and receives the reply as ASCII string. (e.g. "$01M" to retrieve the module name)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>commandSz</em>&nbsp;</td><td>Buffer which holds command string. Must not be longer than 255 characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>responseSz</em>&nbsp;</td><td>Buffer which holds response string. Must be a buffer of 256 bytes. A possible trailing CR is removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FTALK_SUCCESS on success or error code. See <a class="el" href="group__buserror.html">Error Management</a> for a list of error codes. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>No broadcast supported </dd></dl>

</div>
</div>
<a class="anchor" id="gaea9132747bc347fe286d9f7f66d96ee1"></a><!-- doxytag: member="MbusMasterFunctions::customFunction" ref="gaea9132747bc347fe286d9f7f66d96ee1" args="(int slaveAddr, int functionCode, void *requestData, size_t requestLen, void *responseData, size_t *responseLenPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int customFunction </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>slaveAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>functionCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>requestData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>requestLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>responseData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>responseLenPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User Defined Function CodeThis method can be used to implement User Defined Function Codes. </p>
<p>The caller has only to pass the user data to this function. The assembly of the Modbus frame (the so called ADU) including checksums, slave address and function code and subsequentially the transmission, is taken care of by this method.</p>
<p>The modbus specification reserves function codes 65-72 and 100-110 for user defined functions.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Modbus functions usually have an implied response length and therefore the number of bytes expected to be received is known at the time when sending the request. In case of a custom Modbus function with an open or unknown response length, this function can not be used.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slaveAddr</em>&nbsp;</td><td>Modbus address of slave device or unit identifier (Range: 1 - 255 for serial, 0 - 255 for TCP) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>functionCode</em>&nbsp;</td><td>Custom function code to be used for Modbus transaction (1-127) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>requestData</em>&nbsp;</td><td>Pointer to data sent as request (not including slave address or function code) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>requestLen</em>&nbsp;</td><td>Length of request data structure (0-252) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>responseData</em>&nbsp;</td><td>Pointer to data structure which holds response data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>responseLenPtr</em>&nbsp;</td><td>Length of response data (0-252). The number of bytes expected to be sent as response must be known when submitting the request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FTALK_SUCCESS on success or error code. See <a class="el" href="group__buserror.html">Error Management</a> for a list of error codes. </dd></dl>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;">
<small>
FieldTalk Modbus Master C++ Library
<br>
Draft Version
</small></address>
</body>
</html>

